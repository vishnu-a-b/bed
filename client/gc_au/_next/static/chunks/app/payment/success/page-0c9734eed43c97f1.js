(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[478],{9550:function(e,t,r){Promise.resolve().then(r.bind(r,9885))},9205:function(e,t,r){"use strict";r.d(t,{Z:function(){return l}});var n=r(2265);let s=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),i=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&r.indexOf(e)===t).join(" ")};var a={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let o=(0,n.forwardRef)((e,t)=>{let{color:r="currentColor",size:s=24,strokeWidth:o=2,absoluteStrokeWidth:l,className:c="",children:u,iconNode:d,...f}=e;return(0,n.createElement)("svg",{ref:t,...a,width:s,height:s,stroke:r,strokeWidth:l?24*Number(o)/Number(s):o,className:i("lucide",c),...f},[...d.map(e=>{let[t,r]=e;return(0,n.createElement)(t,r)}),...Array.isArray(u)?u:[u]])}),l=(e,t)=>{let r=(0,n.forwardRef)((r,a)=>{let{className:l,...c}=r;return(0,n.createElement)(o,{ref:a,iconNode:t,className:i("lucide-".concat(s(e)),l),...c})});return r.displayName="".concat(e),r}},401:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n=(0,r(9205).Z)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},9322:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n=(0,r(9205).Z)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},9885:function(e,t,r){"use strict";r.d(t,{default:function(){return l}});var n=r(7437),s=r(2265);let i=(0,r(9205).Z)("Loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]);var a=r(401),o=r(9322),l=()=>{let[e,t]=(0,s.useState)("loading"),[r,l]=(0,s.useState)("");(0,s.useEffect)(()=>{(async()=>{try{let e=new URLSearchParams(window.location.search),r=e.get("paymentId");e.get("PayerID");let n=e.get("token");if(!r&&!n){t("error"),l("Missing payment information");return}let s=sessionStorage.getItem("paymentInfo");if(!s){t("error"),l("Payment session expired");return}let i=JSON.parse(s),a=await fetch("".concat("https://api.donatebed.shanthibhavan.in/v1","/generous-payments/verify"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({paypal_order_id:n||i.orderId,paypal_payment_id:r})}),o=await a.json();if(a.ok&&o.success)t("success"),l("Payment completed successfully!"),sessionStorage.removeItem("paymentInfo");else throw Error(o.message||"Payment verification failed")}catch(e){console.error("Payment verification error:",e),t("error"),l(e.message||"Failed to verify payment")}})()},[]);let c=()=>{window.location.href="/"};return(0,n.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 flex items-center justify-center py-12 px-4",children:(0,n.jsx)("div",{className:"max-w-md w-full",children:(0,n.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl p-8 text-center",children:["loading"===e&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-blue-100 rounded-full mb-6",children:(0,n.jsx)(i,{className:"w-8 h-8 text-blue-600 animate-spin"})}),(0,n.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Verifying Payment"}),(0,n.jsx)("p",{className:"text-gray-600 mb-6",children:"Please wait while we confirm your payment..."})]}),"success"===e&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-green-100 rounded-full mb-6",children:(0,n.jsx)(a.Z,{className:"w-8 h-8 text-green-600"})}),(0,n.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Payment Successful!"}),(0,n.jsx)("p",{className:"text-gray-600 mb-6",children:"Thank you for your generous contribution. Your payment has been processed successfully."}),(0,n.jsx)("button",{onClick:c,className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 text-white py-3 px-6 rounded-lg font-semibold hover:from-purple-700 hover:to-pink-700 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 transition-all duration-200",children:"Return to Home"})]}),"error"===e&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-red-100 rounded-full mb-6",children:(0,n.jsx)(o.Z,{className:"w-8 h-8 text-red-600"})}),(0,n.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Payment Failed"}),(0,n.jsx)("p",{className:"text-gray-600 mb-6",children:r}),(0,n.jsxs)("div",{className:"space-y-3",children:[(0,n.jsx)("button",{onClick:()=>window.location.href="/donate",className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 text-white py-3 px-6 rounded-lg font-semibold hover:from-purple-700 hover:to-pink-700 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 transition-all duration-200",children:"Try Again"}),(0,n.jsx)("button",{onClick:c,className:"w-full bg-gray-200 text-gray-800 py-3 px-6 rounded-lg font-semibold hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 transition-all duration-200",children:"Return to Home"})]})]})]})})})}}},function(e){e.O(0,[971,117,744],function(){return e(e.s=9550)}),_N_E=e.O()}]);