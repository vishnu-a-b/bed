(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3790],{183:function(e,r,t){Promise.resolve().then(t.bind(t,4386))},9205:function(e,r,t){"use strict";t.d(r,{Z:function(){return i}});var a=t(2265);let n=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),s=function(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return r.filter((e,r,t)=>!!e&&t.indexOf(e)===r).join(" ")};var o={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let l=(0,a.forwardRef)((e,r)=>{let{color:t="currentColor",size:n=24,strokeWidth:l=2,absoluteStrokeWidth:i,className:c="",children:d,iconNode:u,...m}=e;return(0,a.createElement)("svg",{ref:r,...o,width:n,height:n,stroke:t,strokeWidth:i?24*Number(l)/Number(n):l,className:s("lucide",c),...m},[...u.map(e=>{let[r,t]=e;return(0,a.createElement)(r,t)}),...Array.isArray(d)?d:[d]])}),i=(e,r)=>{let t=(0,a.forwardRef)((t,o)=>{let{className:i,...c}=t;return(0,a.createElement)(l,{ref:o,iconNode:r,className:s("lucide-".concat(n(e)),i),...c})});return t.displayName="".concat(e),t}},401:function(e,r,t){"use strict";t.d(r,{Z:function(){return a}});let a=(0,t(9205).Z)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},9322:function(e,r,t){"use strict";t.d(r,{Z:function(){return a}});let a=(0,t(9205).Z)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},5252:function(e,r,t){"use strict";t.d(r,{Z:function(){return a}});let a=(0,t(9205).Z)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},8997:function(e,r,t){"use strict";t.d(r,{Z:function(){return a}});let a=(0,t(9205).Z)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]])},3041:function(e,r,t){"use strict";t.d(r,{Z:function(){return a}});let a=(0,t(9205).Z)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]])},2369:function(e,r,t){"use strict";t.d(r,{Z:function(){return a}});let a=(0,t(9205).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},4386:function(e,r,t){"use strict";t.d(r,{default:function(){return m}});var a=t(7437),n=t(2265),s=t(8997),o=t(401),l=t(9322),i=t(5252),c=t(2369),d=t(3041);let u=(0,t(9205).Z)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);var m=()=>{let e="https://api.donatebed.shanthibhavan.in/v1",[r,t]=(0,n.useState)({amount:"",currency:"AUD",contributor:{name:"",phone:"",email:""},source:"website"}),[m,h]=(0,n.useState)(!1),[p,x]=(0,n.useState)(null),[f,y]=(0,n.useState)({}),g=()=>{let e={};return(!r.amount||0>=parseFloat(r.amount))&&(e.amount="Please enter a valid amount"),r.contributor.name.trim()||(e.name="Name is required"),r.contributor.phone.trim()||(e.phone="Phone number is required"),r.contributor.email.trim()?/^\S+@\S+\.\S+$/.test(r.contributor.email)||(e.email="Invalid email address"):e.email="Email is required",y(e),0===Object.keys(e).length},b=(e,r,a)=>{e&&"amount"!==e&&"currency"!==e&&"source"!==e?t(t=>({...t,[e]:{...t[e],[r]:a}})):t(e=>({...e,[r]:a})),f[r]&&y(e=>{let t={...e};return delete t[r],t})},j=async()=>{if(g()){h(!0),x(null);try{let t=await fetch("".concat(e,"/generous-payments/create"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...r,amount:parseFloat(r.amount)})}),a=await t.json();if(t.ok&&a.success){let{approvalUrl:e,orderId:t,paymentId:n}=a.data;if(window.sessionStorage&&sessionStorage.setItem("paymentInfo",JSON.stringify({orderId:t,paymentId:n,amount:r.amount,currency:r.currency})),e)window.location.href=e;else throw Error("No approval URL received from PayPal")}else throw Error(a.message||"Payment creation failed")}catch(e){console.error("Payment creation error:",e),x("error")}finally{h(!1)}}},N=async(r,a)=>{try{let r=window.sessionStorage?sessionStorage.getItem("paymentInfo"):null,n=r?JSON.parse(r):{},s=await fetch("".concat(e,"/generous-payments/verify"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({paypal_order_id:n.orderId,paypal_payment_id:a})}),o=await s.json();if(s.ok&&o.success)x("success"),window.sessionStorage&&sessionStorage.removeItem("paymentInfo"),t({amount:"",currency:"AUD",contributor:{name:"",phone:"",email:""},source:"website"});else throw Error(o.message||"Payment verification failed")}catch(e){console.error("Payment verification error:",e),x("error")}};return(0,n.useEffect)(()=>{{let e=new URLSearchParams(window.location.search),r=e.get("PayerID"),t=e.get("paymentId");r&&t&&N(r,t)}},[]),(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 py-12 px-4",children:(0,a.jsxs)("div",{className:"max-w-2xl mx-auto",children:[(0,a.jsxs)("div",{className:"text-center mb-10",children:[(0,a.jsx)("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-r from-pink-500 to-purple-600 rounded-full mb-4",children:(0,a.jsx)(s.Z,{className:"w-8 h-8 text-white"})}),(0,a.jsx)("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Make a Generous Contribution"}),(0,a.jsx)("p",{className:"text-lg text-gray-600",children:"Your kindness can make a real difference in someone's life"})]}),"success"===p&&(0,a.jsxs)("div",{className:"mb-8 p-4 bg-green-50 border border-green-200 rounded-lg flex items-center",children:[(0,a.jsx)(o.Z,{className:"w-5 h-5 text-green-600 mr-3"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-semibold text-green-800",children:"Thank you for your generous contribution!"}),(0,a.jsx)("p",{className:"text-green-700",children:"Your donation has been successfully processed."})]})]}),"error"===p&&(0,a.jsxs)("div",{className:"mb-8 p-4 bg-red-50 border border-red-200 rounded-lg flex items-center",children:[(0,a.jsx)(l.Z,{className:"w-5 h-5 text-red-600 mr-3"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-semibold text-red-800",children:"Payment Failed"}),(0,a.jsx)("p",{className:"text-red-700",children:"Please try again or contact support if the issue persists."})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl p-8 space-y-8",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("h2",{className:"text-xl font-semibold text-gray-900 flex items-center",children:[(0,a.jsx)(i.Z,{className:"w-5 h-5 mr-2 text-purple-600"}),"Contribution Amount"]}),(0,a.jsx)("div",{className:"grid grid-cols-1 gap-4",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Amount (AUD)"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:"$"}),(0,a.jsx)("input",{type:"number",step:"0.01",min:"1",value:r.amount,onChange:e=>b(null,"amount",e.target.value),className:"w-full pl-8 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent ".concat(f.amount?"border-red-300":"border-gray-300"),placeholder:"0.00"})]}),f.amount&&(0,a.jsx)("p",{className:"text-red-500 text-sm mt-1",children:f.amount})]})})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("h2",{className:"text-xl font-semibold text-gray-900 flex items-center",children:[(0,a.jsx)(c.Z,{className:"w-5 h-5 mr-2 text-purple-600"}),"Your Information"]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),(0,a.jsx)("input",{type:"text",value:r.contributor.name,onChange:e=>b("contributor","name",e.target.value),className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent ".concat(f.name?"border-red-300":"border-gray-300"),placeholder:"John Doe"}),f.name&&(0,a.jsx)("p",{className:"text-red-500 text-sm mt-1",children:f.name})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(d.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,a.jsx)("input",{type:"tel",value:r.contributor.phone,onChange:e=>b("contributor","phone",e.target.value),className:"w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent ".concat(f.phone?"border-red-300":"border-gray-300"),placeholder:"+1234567890"})]}),f.phone&&(0,a.jsx)("p",{className:"text-red-500 text-sm mt-1",children:f.phone})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(u,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,a.jsx)("input",{type:"email",value:r.contributor.email,onChange:e=>b("contributor","email",e.target.value),className:"w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent ".concat(f.email?"border-red-300":"border-gray-300"),placeholder:"you@example.com"})]}),f.email&&(0,a.jsx)("p",{className:"text-red-500 text-sm mt-1",children:f.email})]})]})]}),(0,a.jsx)("div",{className:"pt-6 border-t border-gray-200",children:(0,a.jsx)("button",{type:"button",onClick:j,disabled:m,className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 text-white py-4 px-6 rounded-lg font-semibold text-lg hover:from-purple-700 hover:to-pink-700 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 flex items-center justify-center",children:m?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Creating Payment..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s.Z,{className:"w-5 h-5 mr-2"}),"Proceed to PayPal"]})})})]}),(0,a.jsx)("div",{className:"text-center mt-8 text-gray-600",children:(0,a.jsx)("p",{className:"text-sm",children:"Your contribution makes a difference. Thank you for your generosity! \uD83D\uDE4F"})})]})})}}},function(e){e.O(0,[2971,2117,1744],function(){return e(e.s=183)}),_N_E=e.O()}]);