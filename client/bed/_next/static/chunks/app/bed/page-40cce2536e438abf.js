(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[289],{9261:function(e,t,s){Promise.resolve().then(s.bind(s,8654))},8654:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return o}});var n=s(7437),l=s(2265),r=s(3464),a=s(4291),i=s(4399),d=s(2381);function o(){let e=new URLSearchParams(window.location.search).get("bed"),[t,s]=(0,l.useState)(null),[o,f]=(0,l.useState)(!0),[j,g]=(0,l.useState)(null);if((0,l.useEffect)(()=>{e&&(async()=>{try{let t=await (0,r.Z)("".concat("https://api.donatebed.shanthibhavan.in/v1","/supporter/get-bed-data/").concat(e));console.log(t.data),s(null==t?void 0:t.data)}catch(e){g(e instanceof Error?e.message:"Unknown error")}finally{f(!1)}})()},[e]),o)return(0,n.jsx)(m,{});if(j)return(0,n.jsx)(h,{message:j});if(!t)return(0,n.jsx)(p,{});let b=async()=>{let e={title:document.title,text:"Check this out!",url:window.location.href};if(navigator.share)try{await navigator.share(e)}catch(e){console.error("Sharing failed:",e)}else{let t="https://wa.me/?text=".concat(encodeURIComponent(e.text+" "+e.url));window.open(t,"_blank")}};return(0,n.jsx)("div",{className:"min-h-screen bg-gray-50 py-8 px-4 sm:px-6 lg:px-8",children:(0,n.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,n.jsxs)("div",{className:"text-center mb-8",children:[(0,n.jsx)("h1",{className:"text-3xl font-bold text-indigo-700 mb-2",children:"Bed Details"}),(0,n.jsxs)("div",{className:"flex justify-center items-center gap-4",children:[(0,n.jsxs)("span",{className:"px-4 py-2 bg-indigo-100 text-indigo-800 rounded-full text-sm font-medium",children:["Bed ",t.bedNo]}),(0,n.jsx)("span",{className:"px-4 py-2 bg-green-100 text-green-800 rounded-full text-sm font-medium",children:t.countryName})]})]}),(0,n.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,n.jsx)(c,{title:"Bed Value",value:"".concat(null==t?void 0:t.currency," ").concat(t.totalAmountOfTheBed.toLocaleString()),icon:"\uD83D\uDCB0"}),(0,n.jsx)(c,{title:"Total Supporters",value:t.totalNoOfSupportersByBed,icon:"\uD83D\uDC65"}),(0,n.jsx)(c,{title:"Total Donations",value:"".concat(null==t?void 0:t.currency," ").concat(t.totalAmountFromSupporters.toLocaleString()),icon:"\uD83D\uDCB8"}),(0,n.jsx)(c,{title:"Amount Still Needed",value:(null==t?void 0:t.currency)+(t.totalAmountOfTheBed-t.totalAmountFromSupporters)||0,icon:"\uD83D\uDCB8"})]}),(0,n.jsxs)("div",{className:"bg-white shadow rounded-lg overflow-hidden mb-8",children:[(0,n.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,n.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Supporters"})}),(0,n.jsx)("div",{className:"overflow-x-auto",children:(0,n.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,n.jsx)("thead",{className:"bg-gray-50",children:(0,n.jsxs)("tr",{children:[(0,n.jsx)(u,{children:"Name"}),(0,n.jsx)(u,{children:"Amount"}),(0,n.jsx)(u,{children:"Date"})]})}),(0,n.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:t.supporters.map((e,s)=>(0,n.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,n.jsx)(x,{children:e.supporterName}),(0,n.jsxs)(x,{className:"font-medium text-green-600",children:[null==t?void 0:t.currency," ",e.amount.toLocaleString()]}),(0,n.jsx)(x,{children:new Date(e.date).toLocaleDateString()})]},s))})]})}),0===t.supporters.length&&(0,n.jsx)("div",{className:"text-center py-8 text-gray-500",children:"No supporters found for this bed"})]}),(0,n.jsx)("div",{className:"mb-8 flex justify-between gap-2",children:(0,n.jsxs)("div",{className:"w-full ",children:[(0,n.jsxs)("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:["Funding Progress (",(t.totalAmountFromSupporters/t.totalAmountOfTheBed*100).toFixed(1),"%)"]}),(0,n.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-4",children:(0,n.jsx)("div",{className:"bg-indigo-600 h-4 rounded-full",style:{width:"".concat(Math.min(100,t.totalAmountFromSupporters/t.totalAmountOfTheBed*100),"%")}})}),(0,n.jsxs)("div",{className:"flex justify-between text-sm text-gray-600 mt-1",children:[(0,n.jsxs)("span",{children:[null==t?void 0:t.currency," ",t.totalAmountFromSupporters.toLocaleString()]}),(0,n.jsxs)("span",{children:[null==t?void 0:t.currency," ",t.totalAmountOfTheBed.toLocaleString()]})]})]})}),(0,n.jsxs)("div",{className:"flex justify-between gap-4 ",children:[(0,n.jsxs)(a.Vq,{children:[(0,n.jsx)(a.hg,{className:" p-4 rounded-xl font-medium transition-all duration-300\n                    bg-blue-600 text-white hover:bg-blue-700 shadow-lg shadow-blue-200 whitespace-nowrap",children:"Commit to Care"}),(0,n.jsx)(a.cZ,{children:(0,n.jsx)(a.fK,{children:(0,n.jsx)(a.Be,{children:(0,n.jsx)(i.Z,{bed:null==t?void 0:t.bedId})})})})]}),(0,n.jsx)(d.z,{onClick:b,className:"p-4 rounded-xl font-medium transition-all duration-300 bg-blue-600 text-white hover:bg-blue-700 shadow-lg shadow-blue-200 whitespace-nowrap h-full",children:"Share"})]})]})})}function c(e){let{title:t,value:s,icon:l}=e;return(0,n.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-100",children:(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsx)("span",{className:"text-2xl mr-3",children:l}),(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"text-sm font-medium text-gray-500",children:t}),(0,n.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:s})]})]})})}function u(e){let{children:t}=e;return(0,n.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:t})}function x(e){let{children:t,className:s=""}=e;return(0,n.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 ".concat(s),children:t})}function m(){return(0,n.jsx)("div",{className:"flex justify-center items-center h-screen",children:(0,n.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-500"})})}function h(e){let{message:t}=e;return(0,n.jsx)("div",{className:"flex justify-center items-center h-screen",children:(0,n.jsx)("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 max-w-md",children:(0,n.jsxs)("div",{className:"flex",children:[(0,n.jsx)("div",{className:"flex-shrink-0",children:(0,n.jsx)("svg",{className:"h-5 w-5 text-red-500",viewBox:"0 0 20 20",fill:"currentColor",children:(0,n.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),(0,n.jsx)("div",{className:"ml-3",children:(0,n.jsx)("p",{className:"text-sm text-red-700",children:t})})]})})})}function p(){return(0,n.jsx)("div",{className:"flex justify-center items-center h-screen",children:(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("h2",{className:"text-2xl font-medium text-gray-800 mb-2",children:"Bed Not Found"}),(0,n.jsx)("p",{className:"text-gray-600",children:"The bed you're looking for doesn't exist or has been removed."})]})})}}},function(e){e.O(0,[310,464,10,261,265,27,759,971,117,744],function(){return e(e.s=9261)}),_N_E=e.O()}]);