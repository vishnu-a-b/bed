"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[877],{6979:function(e,a,s){s.d(a,{ZP:function(){return n}});var r=s(1434),l=s(1119),t=s(2265),i=s(9448);s(8242),s(4887),s(7935);var n=(0,t.forwardRef)(function(e,a){var s=(0,r.u)(e);return t.createElement(i.S,(0,l.Z)({ref:a},s))})},1929:function(e,a,s){var r=s(7437),l=s(2265),t=s(9501),i=s(1229),n=s(3590),o=s(279),m=s(2381),d=s(5060),c=s(6979),u=s(4978),h=s(662),x=s(3965);let b=i.z.object({name:i.z.string().min(1,{message:"Name is required"}).max(100),mobileNo:i.z.string().min(1,{message:"Mobile number is required"}).max(20),email:i.z.string().email({message:"Invalid email format"}).optional(),photo:i.z.string().optional(),dateOfBirth:i.z.string().optional(),gender:i.z.enum(["Male","Female","Other"],{message:"Gender is required"}).optional(),maritalStatus:i.z.enum(["Unknown","Bachelor","Married","Divorced","Widower"],{message:"Invalid marital status"}).optional(),password:i.z.string().min(6,{message:"Password must be at least 6 characters"}),role:i.z.string().optional()});a.Z=e=>{let{onClose:a,role:s,userSet:i}=e;console.log(s);let{handleSubmit:p,register:g,setValue:f,formState:{errors:v}}=(0,t.cI)({resolver:(0,n.F)(b)}),[j,N]=(0,l.useState)(null),[w,_]=(0,l.useState)({value:"Male",label:"Male"}),[y,S]=(0,l.useState)({value:"Unknown",label:"Unknown"}),k=async(e,r)=>{r.preventDefault(),console.log(e);try{let r={...e.name&&{name:e.name},...e.mobileNo&&{mobileNo:e.mobileNo},...e.email&&{email:e.email},...j&&{photo:j},...e.dateOfBirth&&{dateOfBirth:e.dateOfBirth},...w&&{gender:w.value},...y&&{maritalStatus:y.value},...e.mobileNo&&{password:e.mobileNo},role:s},l=await (0,h.U)("user",r,!0);console.log(l),l._id?(i({value:l._id,label:e.name}),u.Z.success("User created successfully"),a()):u.Z.error("Error creating user")}catch(e){console.error("Error submitting form:",e),u.Z.error("Error submitting form")}};return(0,r.jsx)("div",{className:"fixed inset-x-0 inset-y-[-16px] bg-black bg-opacity-50 flex justify-center items-center z-100 ",children:(0,r.jsxs)("div",{className:"p-2  bg-white sm:p-6 rounded-lg shadow-md ",children:[(0,r.jsx)("h2",{className:"text-lg font-semibold mb-4",children:"Create User"}),(0,r.jsxs)("form",{onSubmit:p(k),className:"grid grid-cols-2 sm:gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(d._,{htmlFor:"name",className:"required",children:"Name"}),(0,r.jsx)(o.I,{id:"name",...g("name"),placeholder:"Enter name",className:"w-full ".concat(v.name?"border-red-500":"")}),v.name&&(0,r.jsx)("p",{className:"text-red-500 text-sm",children:v.name.message})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(d._,{htmlFor:"mobileNo",className:"required",children:"Mobile Number"}),(0,r.jsx)(o.I,{id:"mobileNo",...g("mobileNo"),placeholder:"Enter mobile number",className:"w-full ".concat(v.mobileNo?"border-red-500":"")}),v.mobileNo&&(0,r.jsx)("p",{className:"text-red-500 text-sm",children:v.mobileNo.message})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(d._,{htmlFor:"email",children:"Email"}),(0,r.jsx)(o.I,{id:"email",...g("email"),placeholder:"Enter email",className:"w-full"}),v.email&&(0,r.jsx)("p",{className:"text-red-500 text-sm",children:v.email.message})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(d._,{htmlFor:"dateOfBirth",children:"Date of Birth"}),(0,r.jsx)(o.I,{type:"date",id:"dateOfBirth",...g("dateOfBirth",{valueAsDate:!1})}),v.dateOfBirth&&(0,r.jsx)("p",{className:"text-red-500 text-sm",children:v.dateOfBirth.message})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(d._,{children:"Gender"}),(0,r.jsx)(c.ZP,{id:"gender",name:"gender",value:w,options:x.P,classNamePrefix:"select",onChange:e=>{f("gender",e.value),_(e)}}),v.gender&&(0,r.jsx)("p",{className:"text-red-500 text-sm",children:v.gender.message})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(d._,{htmlFor:"maritalStatus",children:"Marital Status"}),(0,r.jsx)(c.ZP,{id:"maritalStatus",name:"maritalStatus",options:[{value:"Unknown",label:"Unknown"},{value:"Bachelor",label:"Bachelor"},{value:"Married",label:"Married"},{value:"Divorced",label:"Divorced"},{value:"Widower",label:"Widower"}],classNamePrefix:"select",value:y,onChange:e=>{f("maritalStatus",e.value),S(e)}}),v.maritalStatus&&(0,r.jsx)("p",{className:"text-red-500 text-sm",children:v.maritalStatus.message})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(d._,{htmlFor:"photo",children:"Photo"}),(0,r.jsx)(o.I,{id:"photo",type:"file",onChange:e=>{e.target.files&&e.target.files[0]&&N(e.target.files[0])},className:"w-full border rounded p-2 bg-white dark:bg-gray-800 dark:text-white"}),v.photo&&(0,r.jsx)("p",{className:"text-red-500 text-sm",children:v.photo.message})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(d._,{htmlFor:"password",className:"required",children:"Password"}),(0,r.jsx)(o.I,{id:"password",type:"password",...g("password"),placeholder:"Enter password",className:"w-full ".concat(v.password?"border-red-500":"")}),v.password&&(0,r.jsx)("p",{className:"text-red-500 text-sm",children:v.password.message})]}),(0,r.jsxs)("div",{className:" col-span-2 flex justify-between space-x-2",children:[(0,r.jsx)(m.z,{onClick:a,className:"bg-gray-400 hover:bg-gray-500",children:"Cancel"}),(0,r.jsx)(m.z,{type:"submit",children:"Create"})]})]})]})})}},3965:function(e,a,s){s.d(a,{P:function(){return r}});let r=[{value:"Male",label:"Male"},{value:"Female",label:"Female"},{value:"Other",label:"Other"}]},4395:function(e,a,s){s.d(a,{Pb:function(){return t},Tz:function(){return l},p_:function(){return i}});var r=s(2786);let l=async e=>(await (0,r.Ak)(e)).items.map(e=>({id:e._id,label:e.name})),t=async e=>(await (0,r.tE)(e)).items.map(e=>({id:e._id,label:e.name})),i=async e=>(await (0,r.uh)(e)).items.map(e=>({value:e._id,label:e.name}))}}]);