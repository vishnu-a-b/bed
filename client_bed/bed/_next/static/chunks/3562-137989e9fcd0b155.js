"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3562],{3327:function(e,a,t){t.d(a,{Z:function(){return s}});let s=(0,t(9205).Z)("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]])},1723:function(e,a,t){t.d(a,{Z:function(){return s}});let s=(0,t(9205).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},5252:function(e,a,t){t.d(a,{Z:function(){return s}});let s=(0,t(9205).Z)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},5805:function(e,a,t){t.d(a,{Z:function(){return s}});let s=(0,t(9205).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},3562:function(e,a,t){t.d(a,{default:function(){return w}});var s=t(7437),r=t(8438),l=t(2265),n=t(3618),d=t(386),i=t(4291),c=t(2381),o=t(9376),m=t(7520),x=t(3455),p=t(5420);let u=[{accessorKey:"name",header:"Name",cell:e=>{var a,t,s,r;let{row:l}=e,n=l.original;return n.name||(null===(t=n.payer)||void 0===t?void 0:null===(a=t.name)||void 0===a?void 0:a.given_name)+" "+(null===(r=n.payer)||void 0===r?void 0:null===(s=r.name)||void 0===s?void 0:s.surname)||"N/A"}},{accessorKey:"phNo",header:"Phone No",cell:e=>{var a;let{row:t}=e,s=t.original;return s.phNo||(null===(a=s.payer)||void 0===a?void 0:a.phone)||"N/A"}},{accessorKey:"paymentDate",header:"Date",cell:e=>{var a,t;let{row:s}=e;return new Date((null==s?void 0:null===(a=s.original)||void 0===a?void 0:a.paymentDate)||(null==s?void 0:null===(t=s.original)||void 0===t?void 0:t.createdAt)).toLocaleDateString()}},{accessorKey:"amount",header:"Amount",cell:e=>{let{row:a}=e,t=a.original.currency||"AUD";return"".concat(t," ").concat(a.getValue("amount"))}},{accessorKey:"status",header:"Status",cell:e=>{let{row:a}=e,t=a.getValue("status");return(0,s.jsx)("span",{className:"px-2 py-1 rounded-full text-xs ".concat("completed"===t?"bg-green-100 text-green-800":"failed"===t?"bg-red-100 text-red-800":"pending"===t?"bg-yellow-100 text-yellow-800":"cancelled"===t?"bg-gray-100 text-gray-800":"refunded"===t||"partially_refunded"===t?"bg-orange-100 text-orange-800":"bg-blue-100 text-blue-800"),children:t.charAt(0).toUpperCase()+t.slice(1).replace("_"," ")})}},{accessorKey:"paymentMode",header:"Mode",cell:e=>{let{row:a}=e,t=a.getValue("paymentMode");return(0,s.jsx)("span",{className:"px-2 py-1 rounded-full text-xs ".concat("online"===t?"bg-blue-100 text-blue-800":"bg-purple-100 text-purple-800"),children:(null==t?void 0:t.charAt(0).toUpperCase())+(null==t?void 0:t.slice(1))||"Online"})}},{accessorKey:"viewDetails",header:"Actions",cell:e=>{let a=e.row.original;return(0,s.jsxs)(i.Vq,{children:[(0,s.jsx)(i.hg,{className:"underline",children:(0,s.jsx)("button",{className:"px-4 p-1 text-white bg-sidebar-primary rounded-full",children:"View"})}),(0,s.jsx)(i.cZ,{className:"p-6 max-w-4xl max-h-[80vh] overflow-y-auto",children:(0,s.jsx)(h,{data:a})})]})}}],h=e=>{var a,t,r,l,n,i,u;let{data:h}=e,g=(0,d.I0)();return(0,o.useRouter)(),(0,s.jsxs)("div",{className:"flex flex-col space-y-6",children:[(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("h3",{className:"text-xl font-semibold border-b pb-2",children:"Payment Details"}),(0,s.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,s.jsx)("h4",{className:"font-medium mb-3",children:"Basic Information"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"Receipt Number"}),(0,s.jsx)("p",{className:"font-mono",children:h.receiptNumber||"N/A"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"Amount"}),(0,s.jsxs)("p",{className:"font-semibold text-lg",children:[h.currency||"AUD"," ",(0,p.x)(h.amount)]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"Status"}),(0,s.jsx)("p",{className:"capitalize font-medium",children:h.status})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"Payment Mode"}),(0,s.jsx)("p",{className:"capitalize",children:h.paymentMode||"online"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"Payment Date"}),(0,s.jsx)("p",{children:(0,x.Sp)(h.paymentDate||h.createdAt)})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"Source"}),(0,s.jsx)("p",{className:"capitalize",children:h.source||"website"})]})]})]}),(0,s.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg",children:[(0,s.jsx)("h4",{className:"font-medium mb-3",children:"Payer Information"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"Name"}),(0,s.jsx)("p",{children:h.name||((null===(a=h.payer)||void 0===a?void 0:a.name)?"".concat(h.payer.name.given_name||""," ").concat(h.payer.name.surname||"").trim():"N/A")})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"Email"}),(0,s.jsx)("p",{children:h.email||(null===(t=h.payer)||void 0===t?void 0:t.email_address)||"N/A"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"Phone"}),(0,s.jsx)("p",{children:h.phNo||(null===(n=h.payer)||void 0===n?void 0:null===(l=n.phone)||void 0===l?void 0:null===(r=l.phone_number)||void 0===r?void 0:r.national_number)||"N/A"})]}),(null===(i=h.payer)||void 0===i?void 0:i.address)&&(0,s.jsxs)("div",{className:"md:col-span-2",children:[(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"Address"}),(0,s.jsx)("p",{children:[h.payer.address.address_line_1,h.payer.address.admin_area_2,h.payer.address.admin_area_1,h.payer.address.postal_code,h.payer.address.country_code].filter(Boolean).join(", ")||h.address||"N/A"})]})]})]}),"online"===h.paymentMode&&(0,s.jsxs)("div",{className:"bg-yellow-50 p-4 rounded-lg",children:[(0,s.jsx)("h4",{className:"font-medium mb-3",children:"PayPal Information"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.paypal_order_id&&(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"PayPal Order ID"}),(0,s.jsx)("p",{className:"text-xs font-mono break-all",children:h.paypal_order_id})]}),h.paypal_payment_id&&(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"PayPal Payment ID"}),(0,s.jsx)("p",{className:"text-xs font-mono break-all",children:h.paypal_payment_id})]}),h.paypal_capture_id&&(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"PayPal Capture ID"}),(0,s.jsx)("p",{className:"text-xs font-mono break-all",children:h.paypal_capture_id})]}),h.paypal_status&&(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"PayPal Status"}),(0,s.jsx)("p",{className:"uppercase",children:h.paypal_status})]}),h.paypal_fee&&(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"PayPal Fee"}),(0,s.jsxs)("p",{children:[h.paypal_fee.currency," ",h.paypal_fee.amount||0]})]}),h.net_amount&&(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"Net Amount"}),(0,s.jsxs)("p",{className:"font-medium",children:[h.currency," ",(0,p.x)(h.net_amount)]})]})]})]}),"offline"===h.paymentMode&&(0,s.jsxs)("div",{className:"bg-purple-50 p-4 rounded-lg",children:[(0,s.jsx)("h4",{className:"font-medium mb-3",children:"Manual Payment Information"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.manualMethod&&(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"Payment Method"}),(0,s.jsx)("p",{className:"capitalize",children:h.manualMethod})]}),h.transactionReference&&(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"Transaction Reference"}),(0,s.jsx)("p",{children:h.transactionReference})]}),h.remarks&&(0,s.jsxs)("div",{className:"md:col-span-2",children:[(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"Remarks"}),(0,s.jsx)("p",{children:h.remarks})]}),h.recordedBy&&(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"Recorded By"}),(0,s.jsx)("p",{children:h.recordedBy.name||h.recordedBy.email||"N/A"})]})]})]}),h.contribution&&(0,s.jsxs)("div",{className:"bg-green-50 p-4 rounded-lg",children:[(0,s.jsx)("h4",{className:"font-medium mb-3",children:"Contribution Details"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"Purpose"}),(0,s.jsx)("p",{className:"capitalize",children:(null===(u=h.contribution.purpose)||void 0===u?void 0:u.replace("_"," "))||"General Donation"})]}),h.contribution.description&&(0,s.jsxs)("div",{className:"md:col-span-2",children:[(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"Description"}),(0,s.jsx)("p",{children:h.contribution.description})]})]})]}),(0,s.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,s.jsx)("h4",{className:"font-medium mb-3",children:"Approval Status"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"Approved"}),(0,s.jsx)("p",{className:h.isApproved?"text-green-600 font-medium":"text-red-600 font-medium",children:h.isApproved?"Yes":"No"})]}),h.approvedBy&&(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"Approved By"}),(0,s.jsx)("p",{children:h.approvedBy.name||h.approvedBy.email||"N/A"})]}),h.approvedAt&&(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"Approved At"}),(0,s.jsx)("p",{children:(0,x.Sp)(h.approvedAt)})]})]})]}),h.error_details&&(h.error_details.error_code||h.error_details.error_message)&&(0,s.jsxs)("div",{className:"bg-red-50 p-4 rounded-lg",children:[(0,s.jsx)("h4",{className:"font-medium mb-3 text-red-800",children:"Error Details"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 gap-2",children:[h.error_details.error_code&&(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"Error Code"}),(0,s.jsx)("p",{className:"font-mono text-red-600",children:h.error_details.error_code})]}),h.error_details.error_message&&(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"Error Message"}),(0,s.jsx)("p",{className:"text-red-600",children:h.error_details.error_message})]}),h.error_details.debug_id&&(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"Debug ID"}),(0,s.jsx)("p",{className:"font-mono text-xs",children:h.error_details.debug_id})]})]})]}),(0,s.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,s.jsx)("h4",{className:"font-medium mb-3",children:"Additional Information"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.createdAt&&(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"Created At"}),(0,s.jsx)("p",{children:(0,x.Sp)(h.createdAt)})]}),h.updatedAt&&(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"Updated At"}),(0,s.jsx)("p",{children:(0,x.Sp)(h.updatedAt)})]}),h.ip_address&&(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"IP Address"}),(0,s.jsx)("p",{className:"font-mono text-xs",children:h.ip_address})]}),h.user_agent&&(0,s.jsxs)("div",{className:"md:col-span-2",children:[(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"User Agent"}),(0,s.jsx)("p",{className:"text-xs break-all",children:h.user_agent})]})]})]})]}),(0,s.jsx)("div",{className:"flex gap-2 pt-4 border-t",children:(0,s.jsx)(c.z,{className:"text-sm",onClick:()=>{g((0,m.R5)("generous-payments")),g((0,m.h9)(h._id))},children:"Edit Payment"})})]})};var g=t(5805),y=t(9205);let j=(0,y.Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);var N=t(1723);let v=(0,y.Z)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);var f=t(3327),b=t(5252),_=e=>{let{onStatsLoad:a}=e,[t,r]=(0,l.useState)(null),[d,i]=(0,l.useState)(!0),[c,o]=(0,l.useState)(null),m=async()=>{try{i(!0);let e=await n.YD.get("/generous-payments/stats"),t=e.data.data;console.log(e),r(t),null==a||a(t)}catch(e){o("Failed to load payment statistics"),console.error("Error fetching payment stats:",e)}finally{i(!1)}};(0,l.useEffect)(()=>{m()},[]);let x=e=>new Intl.NumberFormat("en-AU",{style:"currency",currency:"AUD",minimumFractionDigits:0,maximumFractionDigits:0}).format(e),p=e=>{let{title:a,amount:t,count:r,icon:l,gradient:n,textColor:d="text-white",subtitle:i=""}=e;return(0,s.jsxs)("div",{className:"".concat(n," rounded-xl p-6 shadow-lg transform hover:scale-105 transition-all duration-300 relative overflow-hidden"),children:[(0,s.jsx)("div",{className:"absolute top-0 right-0 -mt-4 -mr-4 w-20 h-20 rounded-full bg-white/10"}),(0,s.jsx)("div",{className:"absolute bottom-0 left-0 -mb-6 -ml-6 w-16 h-16 rounded-full bg-white/5"}),(0,s.jsxs)("div",{className:"relative z-10",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsx)("div",{className:"p-3 rounded-lg bg-white/20 backdrop-blur-sm",children:(0,s.jsx)(l,{className:"w-6 h-6 ".concat(d)})}),(0,s.jsxs)("div",{className:"text-right",children:[(0,s.jsx)("p",{className:"text-sm ".concat(d,"/80 font-medium"),children:a}),i&&(0,s.jsx)("p",{className:"text-xs ".concat(d,"/60"),children:i})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("h3",{className:"text-3xl font-bold ".concat(d),children:x(t)}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(g.Z,{className:"w-4 h-4 ".concat(d,"/70")}),(0,s.jsxs)("p",{className:"text-sm ".concat(d,"/80"),children:[r," payment",1!==r?"s":""]})]})]})]})]})};return d?(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[1,2,3,4].map(e=>(0,s.jsx)("div",{className:"bg-gray-200 animate-pulse rounded-xl h-40"},e))}):c?(0,s.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-xl p-6 mb-8",children:(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)("div",{className:"p-2 bg-red-100 rounded-lg",children:(0,s.jsx)(j,{className:"w-5 h-5 text-red-600"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-red-800",children:"Error Loading Statistics"}),(0,s.jsx)("p",{className:"text-red-600",children:c})]})]})}):t?(0,s.jsxs)("div",{className:"mb-8 space-y-6",children:[(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Payment Statistics"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Overview of completed payments"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,s.jsx)(p,{title:"Today",amount:t.today.amount,count:t.today.count,icon:N.Z,gradient:"bg-gradient-to-br from-blue-500 via-blue-600 to-blue-700",subtitle:new Date().toLocaleDateString("en-AU",{weekday:"long",month:"short",day:"numeric"})}),(0,s.jsx)(p,{title:"This Week",amount:t.week.amount,count:t.week.count,icon:v,gradient:"bg-gradient-to-br from-green-500 via-green-600 to-green-700",subtitle:"Last 7 days"}),(0,s.jsx)(p,{title:"This Month",amount:t.month.amount,count:t.month.count,icon:j,gradient:"bg-gradient-to-br from-purple-500 via-purple-600 to-purple-700",subtitle:new Date().toLocaleDateString("en-AU",{month:"long",year:"numeric"})}),(0,s.jsx)(p,{title:"All Time",amount:t.total.amount,count:t.total.count,icon:f.Z,gradient:"bg-gradient-to-br from-orange-500 via-orange-600 to-orange-700",subtitle:"Avg: ".concat(x(t.total.avgAmount))})]}),(0,s.jsx)("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 rounded-xl p-6 border border-gray-200",children:(0,s.jsxs)("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsx)("div",{className:"p-3 bg-green-100 rounded-lg",children:(0,s.jsx)(b.Z,{className:"w-6 h-6 text-green-600"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Payment Summary"}),(0,s.jsxs)("p",{className:"text-gray-600",children:[t.total.count," total completed payments"]})]})]}),(0,s.jsxs)("div",{className:"text-right",children:[(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"Average Payment Amount"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-green-600",children:x(t.total.avgAmount)})]})]})})]}):null};function w(){var e;let a;let[t,i]=(0,l.useState)([]),[c,o]=(0,l.useState)(0),[m,x]=(0,l.useState)(0),[p,h]=(0,l.useState)(10),[g,y]=(0,l.useState)(""),[j,N]=(0,l.useState)("all"),[v,f]=(0,l.useState)("all"),[b,w]=(0,l.useState)(()=>{let e=new Date;return new Date(e.getFullYear(),e.getMonth(),2).toISOString().split("T")[0]}),[A,D]=(0,l.useState)(()=>new Date().toISOString().split("T")[0]),[k,S]=(0,l.useState)(""),P=(0,d.v9)(e=>e.update.refresh),I=(0,d.v9)(e=>e.payment.id),M=(0,l.useCallback)((e=e=>{S(e),x(0)},function(){for(var t=arguments.length,s=Array(t),r=0;r<t;r++)s[r]=arguments[r];clearTimeout(a),a=setTimeout(()=>{e(...s)},500)}),[]);async function C(){try{if(I){let e=await n.YD.get("/generous-payments/".concat(I,"&sort=-paymentDate")),a=[];return a[0]=e.data.data,o(1),a}let e="";"all"!==j&&(e="status__eq=".concat(j,"&"));let a="";"all"!==v&&(a="paymentMode__eq=".concat(v,"&"));let t="limit=".concat(p,"&"),s="skip=".concat(m*p,"&"),r={filters:{startDate:b?new Date(b).toISOString():void 0,endDate:A?new Date(A).toISOString():void 0}},l=await n.YD.post("/generous-payments?".concat(t).concat(s).concat(e).concat(a).concat(k?"search=".concat(k,"&"):"","sort=-paymentDate"),r,{headers:{"Content-Type":"application/json"}});console.log(l);let d=l.data.data;return o(d.total||d.length),d.items||d}catch(e){return console.error("Error fetching payment data:",e),[]}}return(0,l.useEffect)(()=>{(async function(){let e=await C();e&&i(e)})()},[m,p,k,j,v,b,A,P,I]),(0,s.jsxs)("div",{className:"flex flex-col items-center p-4",children:[(0,s.jsx)(_,{}),(0,s.jsxs)("div",{className:"container mx-auto py-10",children:[(0,s.jsxs)("div",{className:"flex flex-col gap-4 mb-4",children:[(0,s.jsx)("div",{className:"flex flex-col sm:flex-row justify-between gap-4"}),(0,s.jsxs)("div",{className:"flex gap-4",children:[(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsx)("label",{className:"text-sm font-medium mb-1",children:"Search"}),(0,s.jsx)("input",{type:"text",value:g,onChange:e=>{let a=e.target.value;y(a),M(a)},placeholder:"Search by name, phone number...",className:"p-2 border rounded flex-grow max-w-md"})]}),(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsx)("label",{className:"text-sm font-medium mb-1",children:"Start Date"}),(0,s.jsx)("input",{type:"date",value:b,onChange:e=>{w(e.target.value),x(0)},className:"p-2 border border-gray-300 rounded"})]}),(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsx)("label",{className:"text-sm font-medium mb-1",children:"End Date"}),(0,s.jsx)("input",{type:"date",value:A,onChange:e=>{D(e.target.value),x(0)},className:"p-2 border border-gray-300 rounded"})]})]})]}),(0,s.jsx)(r.w,{url:"generous-payments",columns:u,data:t,totalRows:c,pageIndex:m,pageSize:p,onPageChange:x,onPageSizeChange:h,actions:{delete:!1,edit:!1}})]})]})}},4291:function(e,a,t){t.d(a,{$N:function(){return u},Be:function(){return h},Vq:function(){return i},cZ:function(){return x},fK:function(){return p},hg:function(){return c}});var s=t(7437),r=t(2265),l=t(9027),n=t(653),d=t(3448);let i=l.fC,c=l.xz,o=l.h_;l.x8;let m=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(l.aV,{ref:a,className:(0,d.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...r})});m.displayName=l.aV.displayName;let x=r.forwardRef((e,a)=>{let{className:t,children:r,...i}=e;return(0,s.jsxs)(o,{children:[(0,s.jsx)(m,{}),(0,s.jsxs)(l.VY,{ref:a,className:(0,d.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...i,children:[r,(0,s.jsxs)(l.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,s.jsx)(n.Pxu,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});x.displayName=l.VY.displayName;let p=e=>{let{className:a,...t}=e;return(0,s.jsx)("div",{className:(0,d.cn)("flex flex-col space-y-1.5 text-center sm:text-left",a),...t})};p.displayName="DialogHeader";let u=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(l.Dx,{ref:a,className:(0,d.cn)("text-lg font-semibold leading-none tracking-tight",t),...r})});u.displayName=l.Dx.displayName;let h=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(l.dk,{ref:a,className:(0,d.cn)("text-sm text-muted-foreground",t),...r})});h.displayName=l.dk.displayName},5420:function(e,a,t){t.d(a,{x:function(){return s}});let s=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"INR";if(arguments.length>2&&void 0!==arguments[2]&&arguments[2],null==e)return"N/A";let t="string"==typeof e?parseFloat(e):e;if(isNaN(t))return"Invalid Amount";try{return new Intl.NumberFormat("en-IN",{style:"currency",currency:a,minimumFractionDigits:2,maximumFractionDigits:2}).format(t)}catch(e){return console.error("Error formatting currency:",e),"".concat(a," ").concat(t.toFixed(2))}}},3455:function(e,a,t){t.d(a,{Sp:function(){return s}});let s=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{year:"numeric",month:"short",day:"numeric"};if(!e)return"N/A";try{let t="string"==typeof e?new Date(e):e;if(isNaN(t.getTime()))return"Invalid Date";return new Intl.DateTimeFormat("en-US",a).format(t)}catch(e){return console.error("Error formatting date:",e),"Invalid Date"}}}}]);