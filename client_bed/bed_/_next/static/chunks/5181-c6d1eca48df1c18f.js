"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5181],{7480:function(e,t,r){r.d(t,{J:function(){return u}});var a=r(7437),n=r(2489),o=r(8156),i=r(2265),s=r(5598),l=r(3335);let c={base:"relative rounded-md aspect-square flex justify-center items-center flex-col cursor-pointer min-h-[30px] min-w-[40px] border border-dashed border-gray-400 dark:border-gray-300 transition-colors duration-200 ease-in-out",image:"border-0 p-0 w-full h-full relative shadow-md bg-slate-200 dark:bg-slate-900 rounded-md",active:"border-2",disabled:"bg-gray-200 border-gray-300 cursor-default pointer-events-none bg-opacity-30 dark:bg-gray-700",accept:"border border-blue-500 bg-blue-500 bg-opacity-10",reject:"border border-red-700 bg-red-700 bg-opacity-10"},d={fileInvalidType:()=>"Invalid file type.",tooManyFiles:e=>"You can only add ".concat(e," file(s)."),fileNotSupported:()=>"The file is not supported."},u=i.forwardRef((e,t)=>{var r;let{dropzoneOptions:u,value:p,className:g,disabled:h,onChange:y,onFilesAdded:b}=e,[v,x]=i.useState(),w=i.useMemo(()=>p?p.map(e=>"string"==typeof e.file?e.file:URL.createObjectURL(e.file)):[],[p]),{getRootProps:N,getInputProps:j,fileRejections:k,isFocused:I,isDragAccept:D,isDragReject:A}=(0,s.uI)({accept:{"image/*":[]},disabled:h,onDrop:e=>{var t;if(x(void 0),(null==u?void 0:u.maxFiles)&&(null!==(t=null==p?void 0:p.length)&&void 0!==t?t:0)+e.length>u.maxFiles){x(d.tooManyFiles(u.maxFiles));return}if(e){let t=e.map(e=>({file:e,key:Math.random().toString(36).slice(2),progress:"PENDING"}));null==b||b(t),null==y||y([...null!=p?p:[],...t])}},...u}),_=i.useMemo(()=>(0,l.m6)(c.base,I&&c.active,h&&c.disabled,(null!=A?A:k[0])&&c.reject,D&&c.accept,g).trim(),[I,k,D,A,h,g]),L=i.useMemo(()=>{if(k[0]){var e,t,r;let{errors:a}=k[0];return(null===(e=a[0])||void 0===e?void 0:e.code)==="file-invalid-type"?d.fileInvalidType():(null===(t=a[0])||void 0===t?void 0:t.code)==="too-many-files"?d.tooManyFiles(null!==(r=null==u?void 0:u.maxFiles)&&void 0!==r?r:0):d.fileNotSupported()}},[k,u]);return(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"grid grid-cols-[repeat(4,1fr)] gap-2  ",children:[null==p?void 0:p.map((e,t)=>{let{file:r,progress:o}=e;return(0,a.jsxs)("div",{className:c.image+" aspect-square",children:[(0,a.jsx)("img",{className:"h-full w-full rounded-md object-cover",src:w[t],alt:"string"==typeof r?r:r.name}),"number"==typeof o&&(0,a.jsx)("div",{className:"absolute top-0 left-0 flex h-full w-full items-center justify-center rounded-md bg-black bg-opacity-70",children:(0,a.jsx)(m,{progress:o})}),w[t]&&!h&&"PENDING"===o&&(0,a.jsx)("div",{className:"group absolute right-0 top-0 -translate-y-1/4 translate-x-1/4 transform",onClick:e=>{var r;e.stopPropagation(),null==y||y(null!==(r=p.filter((e,r)=>r!==t))&&void 0!==r?r:[])},children:(0,a.jsx)("div",{className:"flex h-5 w-5 cursor-pointer items-center justify-center rounded-md border border-solid border-gray-500 bg-white transition-all duration-300 hover:h-6 hover:w-6 dark:border-gray-400 dark:bg-black",children:(0,a.jsx)(n.Z,{className:"text-gray-500 dark:text-gray-400",width:16,height:16})})})]},t)}),(!p||p.length<(null!==(r=null==u?void 0:u.maxFiles)&&void 0!==r?r:0))&&(0,a.jsxs)("div",{...N({className:_}),children:[(0,a.jsx)("input",{ref:t,...j()}),(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center text-xs text-gray-400",children:[(0,a.jsx)(o.Z,{className:"mb-2 h-7 w-7"}),(0,a.jsx)("div",{className:"text-gray-400 text-center   ",children:"drag & drop to upload"}),(0,a.jsx)("div",{className:"mt-3",children:(0,a.jsx)(f,{type:"button",disabled:h,children:"select"})})]})]})]}),(0,a.jsx)("div",{className:"mt-1 text-xs text-red-500",children:null!=v?v:L})]})});u.displayName="MultiImageDropzone";let f=i.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("button",{className:(0,l.m6)("focus-visible:ring-ring inline-flex cursor-pointer items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 disabled:pointer-events-none disabled:opacity-50","border border-gray-400 text-gray-400 shadow hover:bg-gray-100 hover:text-gray-500 dark:border-gray-600 dark:text-gray-100 dark:hover:bg-gray-700","h-6 rounded-md px-2 text-xs",r),ref:t,...n})});function m(e){let{progress:t}=e,r=2*Math.PI*50;return(0,a.jsxs)("div",{className:"relative h-16 w-16",children:[(0,a.jsxs)("svg",{className:"absolute top-0 left-0 -rotate-90 transform ",width:"100%",height:"100%",viewBox:"0 0 ".concat(120," ").concat(120),children:[(0,a.jsx)("circle",{className:"text-gray-400",stroke:"currentColor",strokeWidth:10,fill:"none",cx:60,cy:60,r:50}),(0,a.jsx)("circle",{className:"text-white transition-all duration-300 ease-in-out",stroke:"currentColor",strokeWidth:10,strokeDasharray:r,strokeDashoffset:(100-t)/100*r,strokeLinecap:"round",fill:"none",cx:60,cy:60,r:50})]}),(0,a.jsxs)("div",{className:"absolute top-0 left-0 flex h-full w-full items-center justify-center text-xs text-white",children:[Math.round(t),"%"]})]})}f.displayName="Button"},279:function(e,t,r){r.d(t,{I:function(){return i}});var a=r(7437),n=r(2265),o=r(3448);let i=n.forwardRef((e,t)=>{let{className:r,type:n,...i}=e;return(0,a.jsx)("input",{type:n,className:(0,o.cn)("flex h-9 w-full rounded-md border border-input  px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",r),ref:t,...i})});i.displayName="Input"},5060:function(e,t,r){r.d(t,{_:function(){return c}});var a=r(7437),n=r(2265),o=r(6394),i=r(535),s=r(3448);let l=(0,i.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)(o.f,{ref:t,className:(0,s.cn)(l(),r),...n})});c.displayName=o.f.displayName},662:function(e,t,r){r.d(t,{U:function(){return n}});var a=r(3618);let n=async function(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];try{let n=await a.YD.post("".concat("https://api.donatebed.shanthibhavan.in/v1","/").concat(e,"/"),t,{headers:{"Content-Type":r?"multipart/form-data":"application/json"}});return console.log(n),n.data.data}catch(t){console.error("Error creating data:",t);let e=t.response.data;if("VALIDATION_FAILED"!==e.message)return{msg:"Something went wrong"};if(e.error)return{idNumber:"Identification Details Should be unique"};if(e.errorsList)return{id:e.errorsList[0].path,value:e.errorsList[0].msg}}}},2786:function(e,t,r){r.d(t,{Ak:function(){return s},GZ:function(){return l},bp:function(){return i},dQ:function(){return d},fp:function(){return f},rQ:function(){return o},tE:function(){return c},uh:function(){return u}});var a=r(3618);let n="https://api.donatebed.shanthibhavan.in/v1",o=async e=>{try{return{items:(await a.YD.get("/".concat(e))).data.data}}catch(e){return console.error("Error fetching data:",e),{items:[]}}},i=async(e,t)=>{try{return{items:(await a.YD.get("/".concat(t,"/").concat(e))).data.data}}catch(e){return console.error("Error fetching data:",e),{items:[]}}},s=async e=>(await a.YD.get("".concat(n,"/organization?limit=Infinity&sortBy=updatedAt").concat(e?"&search=".concat(e):""))).data.data,l=async e=>{let t=Number(e);return console.log("searchTerm",e,t,typeof t,typeof e),(await a.YD.get("".concat(n,"/bed?limit=Infinity&sortBy=updatedAt").concat(e?"&search=".concat(t):""))).data.data},c=async e=>(await a.YD.get("".concat(n,"/country?limit=Infinity&sortBy=updatedAt").concat(e?"&search=".concat(e):""))).data.data,d=async(e,t)=>(await a.YD.get("".concat(n,"/staff?").concat(t?"organization__eq=".concat(t,"&"):"","limit=Infinity&sortBy=updatedAt").concat(e?"&search=".concat(e):""))).data.data,u=async e=>{let t=await a.YD.get("".concat(n,"/user?limit=Infinity&sortBy=updatedAt").concat(e?"&search=".concat(e):""));return console.log(t),t.data.data},f=async()=>(await a.YD.get("".concat(n,"/role"))).data.data},4395:function(e,t,r){r.d(t,{$y:function(){return i},Pb:function(){return o},Tz:function(){return n},p_:function(){return s}});var a=r(2786);let n=async e=>(await (0,a.Ak)(e)).items.map(e=>({id:e._id,label:e.name})),o=async e=>(await (0,a.tE)(e)).items.map(e=>({id:e._id,label:e.name})),i=async e=>(await (0,a.GZ)(e)).items.map(e=>{var t;return{id:e._id,label:"".concat(e.bedNo," - ").concat(null==e?void 0:null===(t=e.organization)||void 0===t?void 0:t.name)}}),s=async e=>(await (0,a.uh)(e)).items.map(e=>({value:e._id,label:e.name}))},9093:function(e,t,r){r.d(t,{V:function(){return n}});var a=r(3618);let n=async function(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];try{return console.log(typeof e),(await a.YD.put("".concat("https://api.donatebed.shanthibhavan.in/v1","/").concat(t,"/").concat(r),e,{headers:{"Content-Type":n?"multipart/form-data":"application/json"}})).data.data}catch(t){console.log(t),console.log(t.response.data);let e=t.response.data;if("VALIDATION_FAILED"!==e.message)return{msg:"Something went wrong"};if(e.error)return{idNumber:"Identification Details Should be unique"};if(e.errorsList)return{id:e.errorsList[0].path,value:e.errorsList[0].msg}}}},4978:function(e,t,r){var a=r(7261);t.Z={success:e=>{a.Am.success(e,{autoClose:2e3})},error:e=>{a.Am.error(e,{autoClose:2e3})},info:e=>{a.Am.info(e,{autoClose:2e3})},warning:e=>{a.Am.warning(e,{autoClose:2e3})}}}}]);