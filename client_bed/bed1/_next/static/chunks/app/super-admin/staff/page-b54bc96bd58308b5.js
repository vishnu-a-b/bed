(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5934],{8774:function(e,t,a){Promise.resolve().then(a.bind(a,1257))},7810:function(e,t,a){"use strict";a.d(t,{Z:function(){return f}});var r=a(1119),s=a(2265),n=a(9448),i=a(1434),o=a(1993),l=a(1686),d=a(7673),c=a(6989),u=a(1717),m=["defaultOptions","cacheOptions","loadOptions","options","isLoading","onInputChange","filterOption"];a(4887),a(7935);var f=(0,s.forwardRef)(function(e,t){var a,f,p,g,h,v,x,b,y,w,N,j,S,A,I,z,_,O,Z,E,C,D,B,P,k,q,F,Y,V,M,L,U,R,T,W,K,G,$,Q,X,H,J,ee,et,ea,er,es,en,ei,eo,el,ed=(f=void 0!==(a=e.defaultOptions)&&a,g=void 0!==(p=e.cacheOptions)&&p,h=e.loadOptions,e.options,v=e.isLoading,x=e.onInputChange,b=e.filterOption,w=(y=(0,c.Z)(e,m)).inputValue,N=(0,s.useRef)(void 0),j=(0,s.useRef)(!1),S=(0,s.useState)(Array.isArray(f)?f:void 0),I=(A=(0,d.Z)(S,2))[0],z=A[1],_=(0,s.useState)(void 0!==w?w:""),Z=(O=(0,d.Z)(_,2))[0],E=O[1],C=(0,s.useState)(!0===f),B=(D=(0,d.Z)(C,2))[0],P=D[1],k=(0,s.useState)(void 0),F=(q=(0,d.Z)(k,2))[0],Y=q[1],V=(0,s.useState)([]),L=(M=(0,d.Z)(V,2))[0],U=M[1],R=(0,s.useState)(!1),W=(T=(0,d.Z)(R,2))[0],K=T[1],G=(0,s.useState)({}),Q=($=(0,d.Z)(G,2))[0],X=$[1],H=(0,s.useState)(void 0),ee=(J=(0,d.Z)(H,2))[0],et=J[1],ea=(0,s.useState)(void 0),es=(er=(0,d.Z)(ea,2))[0],en=er[1],g!==es&&(X({}),en(g)),f!==ee&&(z(Array.isArray(f)?f:void 0),et(f)),(0,s.useEffect)(function(){return j.current=!0,function(){j.current=!1}},[]),ei=(0,s.useCallback)(function(e,t){if(!h)return t();var a=h(e,t);a&&"function"==typeof a.then&&a.then(t,function(){return t()})},[h]),(0,s.useEffect)(function(){!0===f&&ei(Z,function(e){j.current&&(z(e||[]),P(!!N.current))})},[]),eo=(0,s.useCallback)(function(e,t){var a=(0,u.L)(e,t,x);if(!a){N.current=void 0,E(""),Y(""),U([]),P(!1),K(!1);return}if(g&&Q[a])E(a),Y(a),U(Q[a]),P(!1),K(!1);else{var r=N.current={};E(a),P(!0),K(!F),ei(a,function(e){j&&r===N.current&&(N.current=void 0,P(!1),Y(a),U(e||[]),K(!1),X(e?(0,l.Z)((0,l.Z)({},Q),{},(0,o.Z)({},a,e)):Q))})}},[g,ei,F,Q,x]),el=W?[]:Z&&F?L:I||[],(0,l.Z)((0,l.Z)({},y),{},{options:el,isLoading:B||void 0!==v&&v,onInputChange:eo,filterOption:void 0===b?null:b})),ec=(0,i.u)(ed);return s.createElement(n.S,(0,r.Z)({ref:t},ec))})},6979:function(e,t,a){"use strict";a.d(t,{ZP:function(){return o}});var r=a(1434),s=a(1119),n=a(2265),i=a(9448);a(8242),a(4887),a(7935);var o=(0,n.forwardRef)(function(e,t){var a=(0,r.u)(e);return n.createElement(i.S,(0,s.Z)({ref:t},a))})},1257:function(e,t,a){"use strict";a.d(t,{default:function(){return P}});var r=a(7437),s=a(2265),n=a(8438),i=a(3618),o=a(386);function l(e){if(!e)return"Invalid date";let t=new Date(e);if(isNaN(t.getTime()))return"Invalid date";let a=new Date,r=a.getFullYear()-t.getFullYear();return a.getMonth()>t.getMonth()||a.getMonth()===t.getMonth()&&a.getDate()>=t.getDate()||(r-=1),r}var d=a(4291),c=a(2381),u=a(9376),m=a(7520),f=a(9501),p=a(3590),g=a(1229),h=a(279),v=a(5060),x=a(4978),b=a(9093),y=a(2786);let w=g.z.object({password:g.z.string().min(8,{message:"Password must be at least 8 characters long"}).regex(/[A-Z]/,{message:"Password must contain at least one uppercase letter"}).regex(/[a-z]/,{message:"Password must contain at least one lowercase letter"}).regex(/[0-9]/,{message:"Password must contain at least one number"}).regex(/[\W_]/,{message:"Password must contain at least one special character"})});var N=e=>{let{staffId:t}=e,{handleSubmit:a,register:s,formState:{errors:n},setError:i}=(0,f.cI)({resolver:(0,p.F)(w)}),o=async e=>{try{let a=(await (0,y.bp)(t,"staff")).items.user._id;(await (0,b.V)({password:e.password},"user",a,!0))._id?x.Z.success("Password updated successfully"):(i("password",{message:"Error updating password"}),x.Z.error("Error updating password"))}catch(e){console.error("Error updating password:",e),x.Z.error("Error updating password")}};return(0,r.jsxs)("form",{onSubmit:a(o),className:"grid grid-cols-1 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(v._,{htmlFor:"password",className:"required",children:"New Password"}),(0,r.jsx)(h.I,{id:"password",...s("password"),placeholder:"Enter new password",type:"text",className:"w-full ".concat(n.password?"border-red-500":"")}),n.password&&(0,r.jsx)("p",{className:"text-red-500 text-sm",children:n.password.message})]}),(0,r.jsx)("div",{className:"flex justify-end",children:(0,r.jsx)(c.z,{type:"submit",children:"Update Password"})})]})};let j=[{accessorKey:"name",header:"Name"},{accessorKey:"user.mobileNo",header:"Phone No"},{accessorKey:"user.dateOfBirth",header:"Age",cell:e=>{var t;return(null===(t=e.row.original.user)||void 0===t?void 0:t.dateOfBirth)?l(e.row.original.user.dateOfBirth):"N/A"}},{accessorKey:"viewDetails",header:"View Details",cell:e=>{let t=e.row.original;return(0,r.jsxs)(d.Vq,{children:[(0,r.jsx)(d.hg,{className:" underline",children:(0,r.jsx)("button",{className:"px-4 p-1 text-white bg-sidebar-primary rounded-full",children:"View"})}),(0,r.jsx)(d.cZ,{className:"p-6",children:(0,r.jsx)(S,{data:t})})]})}}],S=e=>{var t,a;let{data:s}=e;console.log(s);let n=(0,o.I0)();return(0,u.useRouter)(),(0,r.jsxs)("div",{className:"flex flex-col space-y-4",children:[(0,r.jsx)("div",{className:"flex items-center gap-2",children:(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:s.name}),(0,r.jsx)("br",{}),(0,r.jsxs)("p",{children:["Age :",s.user.dateOfBirth?l(s.user.dateOfBirth):"N/A"]}),(0,r.jsx)("br",{}),"Phone No : ",null==s?void 0:null===(t=s.user)||void 0===t?void 0:t.mobileNo,(0,r.jsx)("br",{}),"Email : ",null==s?void 0:null===(a=s.user)||void 0===a?void 0:a.email]})}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)(c.z,{className:" text-sm",onClick:e=>{n((0,m.R5)("staff")),n((0,m.h9)(s._id))},children:"Edit"}),(0,r.jsxs)(d.Vq,{children:[(0,r.jsx)(d.hg,{asChild:!0,children:(0,r.jsx)(c.z,{className:"text-sm",children:"Change Password"})}),(0,r.jsx)(d.cZ,{className:"sm:max-w-[425px]",children:(0,r.jsx)(N,{staffId:s._id})})]})]})]})};function A(){var e;let t;let[a,l]=(0,s.useState)([]),[d,c]=(0,s.useState)(0),[u,m]=(0,s.useState)(0),[f,p]=(0,s.useState)(10),[g,h]=(0,s.useState)(""),[v,x]=(0,s.useState)(""),[b,y]=(0,s.useState)(""),w=(0,o.v9)(e=>e.update.refresh),N=(0,o.v9)(e=>e.staff.id);(0,o.v9)(e=>e.organization.id);let S=(0,s.useCallback)((e=e=>{y(e),m(0)},function(){for(var a=arguments.length,r=Array(a),s=0;s<a;s++)r[s]=arguments[s];clearTimeout(t),t=setTimeout(()=>{e(...r)},500)}),[]);async function A(){try{let e="";if(N){let e=await i.YD.get("/staff/".concat(N));console.log(e);let t=[];return t[0]=e.data.data,c(1),t}"Active"===v?e="isActive__eq=true&":"InActive"===v&&(e="isActive__eq=false&");let t=(await i.YD.get("/staff?limit=".concat(f,"&skip=").concat(u*f,"&").concat(e).concat(b?"search=".concat(b):""))).data.data;return c(t.total),t.items}catch(e){console.error("Error fetching data:",e)}}return(0,s.useEffect)(()=>{(async function(){l(await A())})()},[u,f,b,v,w,N]),(0,r.jsx)("div",{className:"flex flex-col items-center p-4",children:(0,r.jsxs)("div",{className:"container mx-auto py-10",children:[(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("input",{type:"text",value:g,onChange:e=>{let t=e.target.value;h(t),S(t)},placeholder:"Search...",className:"mb-4 p-2 border rounded"}),(0,r.jsxs)("select",{value:v,onChange:e=>{x(e.target.value),m(0)},className:"mb-4 p-2 border border-gray-300 rounded",children:[(0,r.jsx)("option",{value:"all",children:"All"}),(0,r.jsx)("option",{value:"Active",children:"Active"}),(0,r.jsx)("option",{value:"InActive",children:"InActive"})]})]}),(0,r.jsx)(n.w,{url:"staff",columns:j,data:a,totalRows:d,pageIndex:u,pageSize:f,onPageChange:m,onPageSizeChange:p,actions:{delete:!0,edit:!0}})]})})}var I=a(9542),z=a(6979),_=a(662),O=a(7810),Z=a(3965),E=a(4395),C=a(6528);let D=g.z.object({name:g.z.string().min(1,{message:"Name is required"}).max(100),mobileNo:g.z.string().min(1,{message:"Mobile number is required"}).max(20),password:g.z.string().optional(),email:g.z.string().optional().refine(e=>!e||/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e),{message:"Invalid email format"}),role:g.z.string().optional(),userId:g.z.string().optional(),dateOfBirth:g.z.string().optional(),gender:g.z.enum(["Male","Female","Other"],{message:"Gender is required"}).optional(),maritalStatus:g.z.enum(["Unknown","Bachelor","Married","Divorced","Widower"],{message:"Invalid marital status"}).optional(),country:g.z.string().optional(),organization:g.z.string().optional(),isActive:g.z.boolean().default(!0)});var B=e=>{let{staffId:t}=e,a=(0,o.v9)(e=>e.organization.id),n=(0,o.v9)(e=>e.organization.name),[i,l]=(0,s.useState)({id:a,label:n}),d=(0,o.I0)(),[u,g]=(0,s.useState)(),[w,N]=(0,s.useState)({value:"Male",label:"Male"}),[j,S]=(0,s.useState)({value:"Unknown",label:"Unknown"}),[A,I]=(0,s.useState)({value:!0,label:"Active"}),[B,P]=(0,s.useState)([]),{handleSubmit:k,register:q,setValue:F,formState:{errors:Y},setError:V}=(0,f.cI)({resolver:(0,p.F)(D)}),[M,L]=(0,s.useState)(!1),U="staff";(0,s.useEffect)(()=>{(async()=>{try{let e=(await (0,y.fp)()).items.map(e=>({value:e._id,label:e.title,slug:e.slug})).find(e=>e.slug===U);e&&P([e])}catch(e){console.error("Error fetching roles:",e)}})()},[U]),(0,s.useEffect)(()=>{t&&(async()=>{try{var e,a,r,s,n,i,o,d,c,u,m,f,p,h,v,x;let b=(await (0,y.bp)(t,"staff")).items;if(console.log(null===(e=b.user)||void 0===e?void 0:e.isActive),F("name",b.name),F("mobileNo",null===(a=b.user)||void 0===a?void 0:a.mobileNo),F("email",null===(r=b.user)||void 0===r?void 0:r.email),null===(s=b.user)||void 0===s?void 0:s.dateOfBirth){let e=new Date(b.user.dateOfBirth).toISOString().split("T")[0];F("dateOfBirth",e)}N({value:null===(n=b.user)||void 0===n?void 0:n.gender,label:null===(i=b.user)||void 0===i?void 0:i.gender}),I({value:null===(o=b.user)||void 0===o?void 0:o.isActive,label:(null===(d=b.user)||void 0===d?void 0:d.isActive)?"Active":"Inactive"}),S({value:null===(c=b.user)||void 0===c?void 0:c.maritalStatus,label:null===(u=b.user)||void 0===u?void 0:u.maritalStatus}),g({label:null==b?void 0:null===(m=b.country)||void 0===m?void 0:m.name,id:null==b?void 0:null===(f=b.country)||void 0===f?void 0:f._id}),l({label:null==b?void 0:null===(p=b.organization)||void 0===p?void 0:p.name,id:null==b?void 0:null===(h=b.organization)||void 0===h?void 0:h._id}),F("userId",null===(v=b.user)||void 0===v?void 0:v._id),F("role",null===(x=b.user)||void 0===x?void 0:x.role),F("isActive",b.isActive)}catch(e){console.error("Error fetching staff details:",e)}})()},[t,F]);let R=async(e,a)=>{if(console.log(B),console.log("Organization:",i),console.log("Country:",u),L(!0),null==a||a.preventDefault(),!(null==i?void 0:i.id)){x.Z.error("Organization is required"),L(!1);return}if(!(null==u?void 0:u.id)){x.Z.error("Country is required"),L(!1);return}try{let a="User@"+e.mobileNo,r={...e.name&&{name:e.name},...e.mobileNo&&{mobileNo:e.mobileNo},...e.email&&{email:e.email},...e.dateOfBirth&&{dateOfBirth:e.dateOfBirth},...w&&{gender:w.value},...j&&{maritalStatus:j.value},isActive:e.isActive,...t?{}:{password:a}},s=new FormData;if(Object.entries(r).forEach(e=>{let[t,a]=e;Array.isArray(a)?a.forEach(e=>s.append(t,e)):"string"==typeof a||a instanceof Blob?s.append(t,a):console.warn('Skipping key "'.concat(t,'" with unsupported value type.'))}),B.forEach((e,t)=>s.append("roles[".concat(t,"]"),e.value)),console.log(r),t){let a=await (0,b.V)(s,"user",e.userId||""),r={name:e.name,organization:i.id,country:u.id,user:e.userId,isActive:e.isActive,role:"regular-staff"},n=await (0,b.V)(r,"staff",t);n._id?a._id?x.Z.success("Staff updated successfully"):(V(a.id,{message:a.value}),x.Z.error("Error updating staff")):(V(n.id,{message:n.value}),x.Z.error("Error updating staff"))}else{let t=await (0,_.U)("user",s);if(t._id){let a={name:e.name,organization:i.id,country:u.id,user:t._id,role:"regular-staff"};console.log("Creating staff with data:",a);let r=await (0,_.U)("staff",a);r._id?(x.Z.success("Staff created successfully"),T()):((0,C.S)("/user",t._id),V(r.id,{message:t.value}),x.Z.error("Error creating staff"))}else V(t.id,{message:t.value}),x.Z.error("Error creating user")}}catch(e){console.error("Error submitting form:",e),x.Z.error("Error submitting form")}finally{L(!1)}},T=()=>{F("name",""),F("mobileNo",""),F("email",""),F("dateOfBirth",void 0),d((0,m.Oe)())},W=async e=>(await (0,y.tE)(e)).items.map(e=>({id:e._id,label:e.name}));return(0,r.jsxs)("form",{onSubmit:k(R),className:"max-w-lg mx-auto  p-4 bg-primary-foreground dark:bg-gray-900 shadow-lg rounded-lg grid grid-cols-1 lg:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"col-span-1 lg:col-span-2",children:[(0,r.jsx)(v._,{htmlFor:"name",className:"required",children:"Name"}),(0,r.jsx)(h.I,{id:"name",...q("name"),placeholder:"Enter name",className:"w-full ".concat(Y.name?"border-red-500":"")}),Y.name&&(0,r.jsx)("p",{className:"text-red-500 text-sm",children:Y.name.message})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(v._,{htmlFor:"mobileNo",className:"required",children:"Mobile Number"}),(0,r.jsx)(h.I,{id:"mobileNo",...q("mobileNo"),placeholder:"Enter mobile number",className:"w-full ".concat(Y.mobileNo?"border-red-500":"")}),Y.mobileNo&&(0,r.jsx)("p",{className:"text-red-500 text-sm",children:Y.mobileNo.message})]}),(0,r.jsxs)("div",{className:"hidden",children:[(0,r.jsx)(v._,{htmlFor:"password",className:"required",children:"Password"}),(0,r.jsx)(h.I,{id:"password",...q("password"),placeholder:"Enter password",type:"text",className:"w-full ".concat(Y.password?"border-red-500":"")}),Y.password&&(0,r.jsx)("p",{className:"text-red-500 text-sm",children:Y.password.message})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(v._,{htmlFor:"email",children:"Email"}),(0,r.jsx)(h.I,{id:"email",...q("email"),placeholder:"Enter email",className:"w-full"}),Y.email&&(0,r.jsx)("p",{className:"text-red-500 text-sm",children:Y.email.message})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(v._,{htmlFor:"dateOfBirth",children:"Date of Birth"}),(0,r.jsx)(h.I,{type:"date",id:"dateOfBirth",...q("dateOfBirth",{valueAsDate:!1})}),Y.dateOfBirth&&(0,r.jsx)("p",{className:"text-red-500 text-sm",children:Y.dateOfBirth.message})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(v._,{children:"Gender"}),(0,r.jsx)(z.ZP,{id:"gender",name:"gender",value:w,options:Z.P,classNamePrefix:"select",onChange:e=>{F("gender",e.value),N(e)}}),Y.gender&&(0,r.jsx)("p",{className:"text-red-500 text-sm",children:Y.gender.message})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(v._,{htmlFor:"maritalStatus",children:"Marital Status"}),(0,r.jsx)(z.ZP,{id:"maritalStatus",name:"maritalStatus",options:[{value:"Unknown",label:"Unknown"},{value:"Bachelor",label:"Bachelor"},{value:"Married",label:"Married"},{value:"Divorced",label:"Divorced"},{value:"Widower",label:"Widower"}],classNamePrefix:"select",value:j,onChange:e=>{F("maritalStatus",e.value),S(e)}}),Y.maritalStatus&&(0,r.jsx)("p",{className:"text-red-500 text-sm",children:Y.maritalStatus.message})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(v._,{htmlFor:"organization",className:"required",children:"Organization"}),(0,r.jsx)(O.Z,{cacheOptions:!0,loadOptions:E.Tz,defaultOptions:!0,value:i,onChange:e=>{l(e)},classNamePrefix:"select",required:!0,isClearable:!0}),Y.organization&&(0,r.jsx)("p",{className:"text-red-500 text-sm",children:Y.organization.message})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(v._,{htmlFor:"country",className:"required",children:"Country"}),(0,r.jsx)(O.Z,{cacheOptions:!0,loadOptions:W,defaultOptions:!0,value:u,onChange:e=>{g(e)},classNamePrefix:"select",required:!0,isClearable:!0}),Y.country&&(0,r.jsx)("p",{className:"text-red-500 text-sm",children:Y.country.message})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(v._,{children:"Status"}),(0,r.jsx)(z.ZP,{options:[{value:!0,label:"Active"},{value:!1,label:"Inactive"}],value:A,onChange:e=>{I(e),F("isActive",e.value)}})]}),(0,r.jsxs)("div",{className:"flex justify-between col-span-1 lg:col-span-2",children:[(0,r.jsx)(c.z,{onClick:T,className:" bg-slate-400 hover:bg-slate-500",children:t?"Cancel":"Clear"}),(0,r.jsx)(c.z,{className:M?"cursor-not-allowed opacity-50":"",type:"submit",children:t?"Update":"Create"})]})]})};function P(){let[e,t]=(0,s.useState)(!0),a=(0,o.I0)(),n=(0,o.v9)(e=>e.update.url),i=(0,o.v9)(e=>e.update.id);return(0,r.jsxs)("div",{className:"p-2 sm:p-4",children:[(0,r.jsxs)("div",{className:" flex justify-between",children:[(0,r.jsx)("h1",{className:"text-lg font-semibold mb-2 text-bg2 flex justify-start",children:"Staff"}),"staff"===n?"":(0,r.jsx)(c.z,{onClick:()=>{a((0,I.rS)()),a((0,m.Oe)()),t(!e)},className:" py-2 px-4 rounded-md hover:bg-bg2",children:e?"Add Staff":"View Staff"})]}),"staff"===n?i&&(0,r.jsx)(B,{staffId:i}):e?(0,r.jsx)(A,{}):(0,r.jsx)(B,{})]})}},4291:function(e,t,a){"use strict";a.d(t,{$N:function(){return p},Be:function(){return g},Vq:function(){return l},cZ:function(){return m},fK:function(){return f},hg:function(){return d}});var r=a(7437),s=a(2265),n=a(9027),i=a(653),o=a(3448);let l=n.fC,d=n.xz,c=n.h_;n.x8;let u=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(n.aV,{ref:t,className:(0,o.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...s})});u.displayName=n.aV.displayName;let m=s.forwardRef((e,t)=>{let{className:a,children:s,...l}=e;return(0,r.jsxs)(c,{children:[(0,r.jsx)(u,{}),(0,r.jsxs)(n.VY,{ref:t,className:(0,o.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...l,children:[s,(0,r.jsxs)(n.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,r.jsx)(i.Pxu,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});m.displayName=n.VY.displayName;let f=e=>{let{className:t,...a}=e;return(0,r.jsx)("div",{className:(0,o.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...a})};f.displayName="DialogHeader";let p=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(n.Dx,{ref:t,className:(0,o.cn)("text-lg font-semibold leading-none tracking-tight",a),...s})});p.displayName=n.Dx.displayName;let g=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(n.dk,{ref:t,className:(0,o.cn)("text-sm text-muted-foreground",a),...s})});g.displayName=n.dk.displayName},279:function(e,t,a){"use strict";a.d(t,{I:function(){return i}});var r=a(7437),s=a(2265),n=a(3448);let i=s.forwardRef((e,t)=>{let{className:a,type:s,...i}=e;return(0,r.jsx)("input",{type:s,className:(0,n.cn)("flex h-9 w-full rounded-md border border-input  px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",a),ref:t,...i})});i.displayName="Input"},5060:function(e,t,a){"use strict";a.d(t,{_:function(){return d}});var r=a(7437),s=a(2265),n=a(6394),i=a(535),o=a(3448);let l=(0,i.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(n.f,{ref:t,className:(0,o.cn)(l(),a),...s})});d.displayName=n.f.displayName},3965:function(e,t,a){"use strict";a.d(t,{P:function(){return r}});let r=[{value:"Male",label:"Male"},{value:"Female",label:"Female"},{value:"Other",label:"Other"}]},9542:function(e,t,a){"use strict";a.d(t,{Lx:function(){return c},hz:function(){return s},qC:function(){return d},rS:function(){return n}});let r=(0,a(1455).oM)({name:"staff",initialState:{id:null,name:null,userId:null,userName:null},reducers:{setStaffId:(e,t)=>{e.id=t.payload},clearStaffId:e=>{e.id=null},setUserName:(e,t)=>{e.userName=t.payload},setUserId:(e,t)=>{e.userId=t.payload},clearUser:e=>{e.userId=null,e.userName=null},setName:(e,t)=>{e.name=t.payload},clearName:e=>{e.name=null}}}),{setStaffId:s,clearStaffId:n,setUserName:i,setUserId:o,clearUser:l,setName:d,clearName:c}=r.actions;t.ZP=r.reducer},662:function(e,t,a){"use strict";a.d(t,{U:function(){return s}});var r=a(3618);let s=async function(e,t){let a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];try{let s=await r.YD.post("".concat("https://api.donatebed.shanthibhavan.in/v1","/").concat(e,"/"),t,{headers:{"Content-Type":a?"multipart/form-data":"application/json"}});return console.log(s),s.data.data}catch(t){console.error("Error creating data:",t);let e=t.response.data;if("VALIDATION_FAILED"!==e.message)return{msg:"Something went wrong"};if(e.error)return{idNumber:"Identification Details Should be unique"};if(e.errorsList)return{id:e.errorsList[0].path,value:e.errorsList[0].msg}}}},6528:function(e,t,a){"use strict";a.d(t,{S:function(){return s}});var r=a(3618);let s=async(e,t)=>{try{let a=await r.YD.delete("".concat(e,"/").concat(t));return console.log(a),a}catch(e){console.error("Error deleting data:",e)}}},2786:function(e,t,a){"use strict";a.d(t,{Ak:function(){return o},GZ:function(){return l},WX:function(){return c},bp:function(){return i},dQ:function(){return u},fp:function(){return f},rQ:function(){return n},tE:function(){return d},uh:function(){return m}});var r=a(3618);let s="https://api.donatebed.shanthibhavan.in/v1",n=async e=>{try{return{items:(await r.YD.get("/".concat(e))).data.data}}catch(e){return console.error("Error fetching data:",e),{items:[]}}},i=async(e,t)=>{try{return{items:(await r.YD.get("/".concat(t,"/").concat(e))).data.data}}catch(e){return console.error("Error fetching data:",e),{items:[]}}},o=async e=>(await r.YD.get("".concat(s,"/organization?limit=Infinity&sortBy=updatedAt").concat(e?"&search=".concat(e):""))).data.data,l=async e=>{let t=Number(e);return console.log("searchTerm",e,t,typeof t,typeof e),(await r.YD.get("".concat(s,"/bed?limit=Infinity&sortBy=updatedAt").concat(e?"&search=".concat(t):""))).data.data},d=async e=>(await r.YD.get("".concat(s,"/country?limit=Infinity&sortBy=updatedAt").concat(e?"&search=".concat(e):""))).data.data,c=async e=>(await r.YD.get("".concat(s,"/supporter/supporter?limit=Infinity&sortBy=updatedAt").concat(e?"&search=".concat(e):""))).data.data,u=async(e,t)=>(await r.YD.get("".concat(s,"/staff?").concat(t?"organization__eq=".concat(t,"&"):"","limit=Infinity&sortBy=updatedAt").concat(e?"&search=".concat(e):""))).data.data,m=async e=>{let t=await r.YD.get("".concat(s,"/user?limit=Infinity&sortBy=updatedAt").concat(e?"&search=".concat(e):""));return console.log(t),t.data.data},f=async()=>(await r.YD.get("".concat(s,"/role"))).data.data},4395:function(e,t,a){"use strict";a.d(t,{$y:function(){return i},Pb:function(){return n},Tz:function(){return s},p_:function(){return o},zc:function(){return l}});var r=a(2786);let s=async e=>(await (0,r.Ak)(e)).items.map(e=>({id:e._id,label:e.name})),n=async e=>(await (0,r.tE)(e)).items.map(e=>({id:e._id,label:e.name})),i=async e=>(await (0,r.GZ)(e)).items.map(e=>{var t;return{id:e._id,label:"".concat(e.bedNo," - ").concat(null==e?void 0:null===(t=e.organization)||void 0===t?void 0:t.name)}}),o=async e=>(await (0,r.uh)(e)).items.map(e=>({value:e._id,label:e.name})),l=async e=>{let t=(await (0,r.WX)(e)).items;return console.log(t),t.map(e=>({value:e._id,label:e.name,bed:e.bed._id,bedNo:e.bed.bedNo}))}},9093:function(e,t,a){"use strict";a.d(t,{V:function(){return s}});var r=a(3618);let s=async function(e,t,a){let s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];try{return console.log(typeof e),(await r.YD.put("".concat("https://api.donatebed.shanthibhavan.in/v1","/").concat(t,"/").concat(a),e,{headers:{"Content-Type":s?"multipart/form-data":"application/json"}})).data.data}catch(t){console.log(t),console.log(t.response.data);let e=t.response.data;if("VALIDATION_FAILED"!==e.message)return{msg:"Something went wrong"};if(e.error)return{idNumber:"Identification Details Should be unique"};if(e.errorsList)return{id:e.errorsList[0].path,value:e.errorsList[0].msg}}}},4978:function(e,t,a){"use strict";var r=a(7261);t.Z={success:e=>{r.Am.success(e,{autoClose:2e3})},error:e=>{r.Am.error(e,{autoClose:2e3})},info:e=>{r.Am.info(e,{autoClose:2e3})},warning:e=>{r.Am.warning(e,{autoClose:2e3})}}}},function(e){e.O(0,[8310,3464,8037,1229,7261,237,3402,8575,9027,1455,1145,4285,8438,2971,2117,1744],function(){return e(e.s=8774)}),_N_E=e.O()}]);